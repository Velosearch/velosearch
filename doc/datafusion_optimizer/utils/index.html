<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Collection of utility functions that are leveraged by the query optimizer rules"><title>datafusion_optimizer::utils - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-c4dbdcde0fbd8430.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="datafusion_optimizer" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (a266f1199 2023-03-22)" data-search-js="search-a6dd7f063a44c279.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" data-theme-light-css="light-db279b6232be9c13.css" data-theme-dark-css="dark-cf923f49f397b216.css" data-theme-ayu-css="ayu-be46fdc453a55015.css" ></div><script src="../../static.files/storage-9184409068f70b79.js"></script><script defer src="../../static.files/main-f5a2577c5297a973.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../datafusion_optimizer/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../datafusion_optimizer/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module utils</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">datafusion_optimizer</a>::<wbr><a class="mod" href="#">utils</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/datafusion_optimizer/utils.rs.html#18-678">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Collection of utility functions that are leveraged by the query optimizer rules</p>
</div></details><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.add_filter.html" title="fn datafusion_optimizer::utils::add_filter">add_filter</a></div><div class="desc docblock-short">returns a new <a href="../../datafusion_expr/logical_plan/plan/enum.LogicalPlan.html" title="enum datafusion_expr::logical_plan::plan::LogicalPlan">LogicalPlan</a> that wraps <code>plan</code> in a <a href="../../datafusion_expr/logical_plan/plan/enum.LogicalPlan.html#variant.Filter" title="variant datafusion_expr::logical_plan::plan::LogicalPlan::Filter">LogicalPlan::Filter</a> with
its predicate be all <code>predicates</code> ANDed.</div></li><li><div class="item-name"><a class="fn" href="fn.conjunction.html" title="fn datafusion_optimizer::utils::conjunction">conjunction</a></div><div class="desc docblock-short">Combines an array of filter expressions into a single filter
expression consisting of the input filter expressions joined with
logical AND.</div></li><li><div class="item-name"><a class="fn" href="fn.disjunction.html" title="fn datafusion_optimizer::utils::disjunction">disjunction</a></div><div class="desc docblock-short">Combines an array of filter expressions into a single filter
expression consisting of the input filter expressions joined with
logical OR.</div></li><li><div class="item-name"><a class="fn" href="fn.exprs_to_join_cols.html" title="fn datafusion_optimizer::utils::exprs_to_join_cols">exprs_to_join_cols</a></div><div class="desc docblock-short">Extracts correlating columns from expressions</div></li><li><div class="item-name"><a class="fn" href="fn.find_join_exprs.html" title="fn datafusion_optimizer::utils::find_join_exprs">find_join_exprs</a></div><div class="desc docblock-short">Looks for correlating expressions: equality expressions with one field from the subquery, and
one not in the subquery (closed upon from outer scope)</div></li><li><div class="item-name"><a class="fn" href="fn.merge_schema.html" title="fn datafusion_optimizer::utils::merge_schema">merge_schema</a></div><div class="desc docblock-short">merge inputs schema into a single schema.</div></li><li><div class="item-name"><a class="fn" href="fn.only_or_err.html" title="fn datafusion_optimizer::utils::only_or_err">only_or_err</a></div><div class="desc docblock-short">Returns the first (and only) element in a slice, or an error</div></li><li><div class="item-name"><a class="fn" href="fn.optimize_children.html" title="fn datafusion_optimizer::utils::optimize_children">optimize_children</a></div><div class="desc docblock-short">Convenience rule for writing optimizers: recursively invoke
optimize on plan’s children and then return a node of the same
type. Useful for optimizer rules which want to leave the type
of plan unchanged but still apply to the children.
This also handles the case when the <code>plan</code> is a <a href="../../datafusion_expr/logical_plan/plan/enum.LogicalPlan.html#variant.Explain" title="variant datafusion_expr::logical_plan::plan::LogicalPlan::Explain"><code>LogicalPlan::Explain</code></a>.</div></li><li><div class="item-name"><a class="fn" href="fn.rewrite_preserving_name.html" title="fn datafusion_optimizer::utils::rewrite_preserving_name">rewrite_preserving_name</a></div><div class="desc docblock-short">Rewrites <code>expr</code> using <code>rewriter</code>, ensuring that the output has the
same name as <code>expr</code> prior to rewrite, adding an alias if necessary.</div></li><li><div class="item-name"><a class="fn" href="fn.split_binary.html" title="fn datafusion_optimizer::utils::split_binary">split_binary</a></div><div class="desc docblock-short">Splits an binary operator tree <a href="../../datafusion_expr/expr/enum.Expr.html" title="enum datafusion_expr::expr::Expr"><code>Expr</code></a> such as <code>A &lt;OP&gt; B &lt;OP&gt; C</code> =&gt; <code>[A, B, C]</code></div></li><li><div class="item-name"><a class="fn" href="fn.split_binary_owned.html" title="fn datafusion_optimizer::utils::split_binary_owned">split_binary_owned</a></div><div class="desc docblock-short">Splits an owned binary operator tree <a href="../../datafusion_expr/expr/enum.Expr.html" title="enum datafusion_expr::expr::Expr"><code>Expr</code></a> such as <code>A &lt;OP&gt; B &lt;OP&gt; C</code> =&gt; <code>[A, B, C]</code></div></li><li><div class="item-name"><a class="fn" href="fn.split_conjunction.html" title="fn datafusion_optimizer::utils::split_conjunction">split_conjunction</a></div><div class="desc docblock-short">Splits a conjunctive <a href="../../datafusion_expr/expr/enum.Expr.html" title="enum datafusion_expr::expr::Expr"><code>Expr</code></a> such as <code>A AND B AND C</code> =&gt; <code>[A, B, C]</code></div></li><li><div class="item-name"><a class="fn" href="fn.split_conjunction_owned.html" title="fn datafusion_optimizer::utils::split_conjunction_owned">split_conjunction_owned</a></div><div class="desc docblock-short">Splits an owned conjunctive <a href="../../datafusion_expr/expr/enum.Expr.html" title="enum datafusion_expr::expr::Expr"><code>Expr</code></a> such as <code>A AND B AND C</code> =&gt; <code>[A, B, C]</code></div></li><li><div class="item-name"><a class="fn" href="fn.unalias.html" title="fn datafusion_optimizer::utils::unalias">unalias</a></div><div class="desc docblock-short">Recursively un-alias an expressions</div></li><li><div class="item-name"><a class="fn" href="fn.verify_not_disjunction.html" title="fn datafusion_optimizer::utils::verify_not_disjunction">verify_not_disjunction</a></div><div class="desc docblock-short">Recursively scans a slice of expressions for any <code>Or</code> operators</div></li></ul></section></div></main></body></html>