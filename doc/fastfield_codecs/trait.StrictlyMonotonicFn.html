<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Values need to be strictly monotonic mapped to a `Internal` value (u64 or u128) that can be used in fast field codecs."><title>StrictlyMonotonicFn in fastfield_codecs - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-c4dbdcde0fbd8430.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="fastfield_codecs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (a266f1199 2023-03-22)" data-search-js="search-a6dd7f063a44c279.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" data-theme-light-css="light-db279b6232be9c13.css" data-theme-dark-css="dark-cf923f49f397b216.css" data-theme-ayu-css="ayu-be46fdc453a55015.css" ></div><script src="../static.files/storage-9184409068f70b79.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-f5a2577c5297a973.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../fastfield_codecs/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../fastfield_codecs/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">StrictlyMonotonicFn</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.inverse">inverse</a></li><li><a href="#tymethod.mapping">mapping</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.inverse_coerce">inverse_coerce</a></li><li><a href="#method.mapping_coerce">mapping_coerce</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In fastfield_codecs</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">fastfield_codecs</a>::<wbr><a class="trait" href="#">StrictlyMonotonicFn</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/fastfield_codecs/monotonic_mapping.rs.html#36-59">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait StrictlyMonotonicFn&lt;External: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a>, Internal: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a>&gt; {
    // Required methods
    fn <a href="#tymethod.mapping" class="fn">mapping</a>(&amp;self, inp: External) -&gt; Internal;
<span class="item-spacer"></span>    fn <a href="#tymethod.inverse" class="fn">inverse</a>(&amp;self, out: Internal) -&gt; External;

    // Provided methods
    fn <a href="#method.mapping_coerce" class="fn">mapping_coerce</a>(
        &amp;self,
        inp: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.RangeInclusive.html" title="struct core::ops::range::RangeInclusive">RangeInclusive</a>&lt;External&gt;
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.RangeInclusive.html" title="struct core::ops::range::RangeInclusive">RangeInclusive</a>&lt;Internal&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.inverse_coerce" class="fn">inverse_coerce</a>(
        &amp;self,
        out: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.RangeInclusive.html" title="struct core::ops::range::RangeInclusive">RangeInclusive</a>&lt;Internal&gt;
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.RangeInclusive.html" title="struct core::ops::range::RangeInclusive">RangeInclusive</a>&lt;External&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Values need to be strictly monotonic mapped to a <code>Internal</code> value (u64 or u128) that can be
used in fast field codecs.</p>
<p>The monotonic mapping is required so that <code>PartialOrd</code> can be used on <code>Internal</code> without
converting to <code>External</code>.</p>
<p>All strictly monotonic functions are invertible because they are guaranteed to have a one-to-one
mapping from their range to their domain. The <code>inverse</code> method is required when opening a codec,
so a value can be converted back to its original domain (e.g. ip address or f64) from its
internal representation.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.mapping" class="method"><a class="srclink rightside" href="../src/fastfield_codecs/monotonic_mapping.rs.html#38">source</a><h4 class="code-header">fn <a href="#tymethod.mapping" class="fn">mapping</a>(&amp;self, inp: External) -&gt; Internal</h4></section></summary><div class="docblock"><p>Strictly monotonically maps the value from External to Internal.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.inverse" class="method"><a class="srclink rightside" href="../src/fastfield_codecs/monotonic_mapping.rs.html#40">source</a><h4 class="code-header">fn <a href="#tymethod.inverse" class="fn">inverse</a>(&amp;self, out: Internal) -&gt; External</h4></section></summary><div class="docblock"><p>Inverse of <code>mapping</code>. Maps the value from Internal to External.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.mapping_coerce" class="method"><a class="srclink rightside" href="../src/fastfield_codecs/monotonic_mapping.rs.html#52-54">source</a><h4 class="code-header">fn <a href="#method.mapping_coerce" class="fn">mapping_coerce</a>(
    &amp;self,
    inp: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.RangeInclusive.html" title="struct core::ops::range::RangeInclusive">RangeInclusive</a>&lt;External&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.RangeInclusive.html" title="struct core::ops::range::RangeInclusive">RangeInclusive</a>&lt;Internal&gt;</h4></section></summary><div class="docblock"><p>Maps a user provded value from External to Internal.
It may be necessary to coerce the value if it is outside the value space.
In that case it tries to find the next greater value in the value space.</p>
<p>Returns a bool to mark if a value was outside the value space and had to be coerced <em>up</em>.
With that information we can detect if two values in a range both map outside the same value
space.</p>
<p>coerce_up means the next valid upper value in the value space will be chosen if the value
has to be coerced.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.inverse_coerce" class="method"><a class="srclink rightside" href="../src/fastfield_codecs/monotonic_mapping.rs.html#56-58">source</a><h4 class="code-header">fn <a href="#method.inverse_coerce" class="fn">inverse_coerce</a>(
    &amp;self,
    out: <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.RangeInclusive.html" title="struct core::ops::range::RangeInclusive">RangeInclusive</a>&lt;Internal&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.RangeInclusive.html" title="struct core::ops::range::RangeInclusive">RangeInclusive</a>&lt;External&gt;</h4></section></summary><div class="docblock"><p>Inverse of <code>mapping_coerce</code>.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../implementors/fastfield_codecs/monotonic_mapping/trait.StrictlyMonotonicFn.js" async></script></section></div></main></body></html>